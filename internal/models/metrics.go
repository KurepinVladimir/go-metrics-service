// Package models содержит определение структур данных,
// используемых для обмена метриками между агентом и сервером.
package models

// Возможные типы метрик.
//
// Counter — счётчик, хранящий накопленное целое значение,
// увеличивается при каждом обновлении.
//
// Gauge — метрика с плавающим значением, отражающая состояние
// на текущий момент времени.
const (
	Counter = "counter"
	Gauge   = "gauge"
)

// Metrics представляет собой универсальную модель метрики,
// которая используется в JSON-обмене между агентом и сервером.
//
// Поля:
//   - ID — уникальный идентификатор метрики;
//   - MType — тип метрики ("gauge" или "counter");
//   - Delta — значение счётчика (для counter);
//   - Value — значение измерения (для gauge);
//   - Hash — HMAC-подпись, если используется передача с проверкой целостности.
//
// Поля Delta и Value определены как указатели, чтобы отличать
// нулевые значения (0) от отсутствующих и не сериализовать
// неиспользуемые поля в JSON.
type Metrics struct {
	ID    string   `json:"id"`
	MType string   `json:"type"`
	Delta *int64   `json:"delta,omitempty"`
	Value *float64 `json:"value,omitempty"`
	Hash  string   `json:"hash,omitempty"`
}
